<!DOCTYPE html>
<html>
<head>
  <title>Zenmodoro Icon Generator</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      background: #f5f5f5;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      gap: 20px;
    }
    .icon-container {
      display: flex;
      gap: 40px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .icon-box {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }
    .icon-box span {
      font-size: 14px;
      color: #666;
    }
    canvas {
      border-radius: 20%;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    .instructions {
      max-width: 600px;
      text-align: center;
      color: #333;
      line-height: 1.6;
    }
    button {
      padding: 12px 24px;
      font-size: 16px;
      background: #E74C3C;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #C0392B;
    }
  </style>
</head>
<body>
  <h1>Zenmodoro App Icon</h1>

  <div class="icon-container">
    <div class="icon-box">
      <canvas id="icon1024" width="1024" height="1024"></canvas>
      <span>iOS Icon (1024x1024)</span>
      <button onclick="downloadIcon('icon1024', 'icon.png')">Download</button>
    </div>
    <div class="icon-box">
      <canvas id="iconPreview" width="200" height="200"></canvas>
      <span>Preview</span>
    </div>
  </div>

  <div class="icon-container" style="margin-top: 40px;">
    <div class="icon-box">
      <canvas id="androidFg" width="1024" height="1024"></canvas>
      <span>Android Foreground</span>
      <button onclick="downloadIcon('androidFg', 'android-icon-foreground.png')">Download</button>
    </div>
    <div class="icon-box">
      <canvas id="androidBg" width="1024" height="1024"></canvas>
      <span>Android Background</span>
      <button onclick="downloadIcon('androidBg', 'android-icon-background.png')">Download</button>
    </div>
    <div class="icon-box">
      <canvas id="splash" width="512" height="512"></canvas>
      <span>Splash Icon (512x512)</span>
      <button onclick="downloadIcon('splash', 'splash-icon.png')">Download</button>
    </div>
    <div class="icon-box">
      <canvas id="androidMono" width="1024" height="1024"></canvas>
      <span>Android Monochrome</span>
      <button onclick="downloadIcon('androidMono', 'android-icon-monochrome.png')">Download</button>
    </div>
  </div>

  <div class="icon-container" style="margin-top: 40px;">
    <div class="icon-box">
      <canvas id="featureGraphic" width="1024" height="500"></canvas>
      <span>Google Play Feature Graphic (1024x500)</span>
      <button onclick="downloadIcon('featureGraphic', 'feature-graphic.png')">Download</button>
    </div>
  </div>

  <div class="instructions">
    <p><strong>Instructions:</strong> Click each "Download" button to save the icons, then replace the files in <code>assets/images/</code></p>
  </div>

  <script>
    // Color scheme
    const colors = {
      tomato: '#E74C3C',
      tomatoDark: '#C0392B',
      tomatoLight: '#EC7063',
      leaf: '#27AE60',
      leafDark: '#1E8449',
      stem: '#784212',
      background: '#FFFFFF',
      clockHand: '#FFFFFF',
      backgroundGradientStart: '#FEF0F0',
      backgroundGradientEnd: '#FDEDEC'
    };

    function drawTomato(ctx, size, withBackground = true, isAndroidForeground = false) {
      const center = size / 2;
      const tomatoRadius = size * 0.38;

      // Clear canvas
      ctx.clearRect(0, 0, size, size);

      // Background (for iOS icon)
      if (withBackground) {
        const gradient = ctx.createLinearGradient(0, 0, size, size);
        gradient.addColorStop(0, colors.backgroundGradientStart);
        gradient.addColorStop(1, colors.backgroundGradientEnd);
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, size, size);
      }

      // Adjust position for Android foreground (needs more padding)
      const offsetY = isAndroidForeground ? size * 0.02 : 0;
      const tomatoCenter = center + offsetY;

      // Tomato body - main circle with gradient
      const tomatoGradient = ctx.createRadialGradient(
        center - tomatoRadius * 0.3, tomatoCenter - tomatoRadius * 0.3, 0,
        center, tomatoCenter, tomatoRadius
      );
      tomatoGradient.addColorStop(0, colors.tomatoLight);
      tomatoGradient.addColorStop(0.7, colors.tomato);
      tomatoGradient.addColorStop(1, colors.tomatoDark);

      ctx.beginPath();
      ctx.arc(center, tomatoCenter, tomatoRadius, 0, Math.PI * 2);
      ctx.fillStyle = tomatoGradient;
      ctx.fill();

      // Tomato highlight
      ctx.beginPath();
      ctx.ellipse(
        center - tomatoRadius * 0.25,
        tomatoCenter - tomatoRadius * 0.25,
        tomatoRadius * 0.15,
        tomatoRadius * 0.1,
        -Math.PI / 4,
        0, Math.PI * 2
      );
      ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
      ctx.fill();

      // Stem
      const stemWidth = size * 0.035;
      const stemHeight = size * 0.08;
      ctx.fillStyle = colors.stem;
      ctx.beginPath();
      ctx.roundRect(
        center - stemWidth / 2,
        tomatoCenter - tomatoRadius - stemHeight * 0.7,
        stemWidth,
        stemHeight,
        stemWidth / 2
      );
      ctx.fill();

      // Leaves
      const leafSize = size * 0.12;
      ctx.fillStyle = colors.leaf;

      // Left leaf
      ctx.beginPath();
      ctx.ellipse(
        center - leafSize * 0.6,
        tomatoCenter - tomatoRadius - stemHeight * 0.2,
        leafSize * 0.7,
        leafSize * 0.25,
        -Math.PI / 6,
        0, Math.PI * 2
      );
      ctx.fill();

      // Right leaf
      ctx.beginPath();
      ctx.ellipse(
        center + leafSize * 0.6,
        tomatoCenter - tomatoRadius - stemHeight * 0.2,
        leafSize * 0.7,
        leafSize * 0.25,
        Math.PI / 6,
        0, Math.PI * 2
      );
      ctx.fill();

      // Clock face circle (subtle)
      ctx.beginPath();
      ctx.arc(center, tomatoCenter, tomatoRadius * 0.55, 0, Math.PI * 2);
      ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
      ctx.lineWidth = size * 0.01;
      ctx.stroke();

      // Clock hands - showing ~25 minutes (pomodoro time)
      const handLength = tomatoRadius * 0.35;
      const minuteHandLength = tomatoRadius * 0.45;

      // Hour hand (pointing to roughly 10 o'clock position)
      ctx.beginPath();
      ctx.moveTo(center, tomatoCenter);
      const hourAngle = -Math.PI / 3; // 10 o'clock
      ctx.lineTo(
        center + Math.sin(hourAngle) * handLength,
        tomatoCenter - Math.cos(hourAngle) * handLength
      );
      ctx.strokeStyle = colors.clockHand;
      ctx.lineWidth = size * 0.025;
      ctx.lineCap = 'round';
      ctx.stroke();

      // Minute hand (pointing to 5, representing 25 minutes)
      ctx.beginPath();
      ctx.moveTo(center, tomatoCenter);
      const minuteAngle = Math.PI; // 6 o'clock (30 min) - close to 25 min
      ctx.lineTo(
        center + Math.sin(minuteAngle) * minuteHandLength,
        tomatoCenter - Math.cos(minuteAngle) * minuteHandLength
      );
      ctx.strokeStyle = colors.clockHand;
      ctx.lineWidth = size * 0.018;
      ctx.lineCap = 'round';
      ctx.stroke();

      // Center dot
      ctx.beginPath();
      ctx.arc(center, tomatoCenter, size * 0.02, 0, Math.PI * 2);
      ctx.fillStyle = colors.clockHand;
      ctx.fill();
    }

    function drawAndroidBackground(ctx, size) {
      ctx.clearRect(0, 0, size, size);
      const gradient = ctx.createLinearGradient(0, 0, size, size);
      gradient.addColorStop(0, colors.backgroundGradientStart);
      gradient.addColorStop(1, colors.backgroundGradientEnd);
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, size, size);
    }

    function drawMonochrome(ctx, size) {
      const center = size / 2;
      const tomatoRadius = size * 0.38;
      const monoColor = '#FFFFFF';

      // Clear canvas (transparent background)
      ctx.clearRect(0, 0, size, size);

      // Adjust position (same as Android foreground)
      const offsetY = size * 0.02;
      const tomatoCenter = center + offsetY;

      // Tomato body - solid white circle
      ctx.beginPath();
      ctx.arc(center, tomatoCenter, tomatoRadius, 0, Math.PI * 2);
      ctx.fillStyle = monoColor;
      ctx.fill();

      // Stem
      const stemWidth = size * 0.035;
      const stemHeight = size * 0.08;
      ctx.fillStyle = monoColor;
      ctx.beginPath();
      ctx.roundRect(
        center - stemWidth / 2,
        tomatoCenter - tomatoRadius - stemHeight * 0.7,
        stemWidth,
        stemHeight,
        stemWidth / 2
      );
      ctx.fill();

      // Leaves
      const leafSize = size * 0.12;
      ctx.fillStyle = monoColor;

      // Left leaf
      ctx.beginPath();
      ctx.ellipse(
        center - leafSize * 0.6,
        tomatoCenter - tomatoRadius - stemHeight * 0.2,
        leafSize * 0.7,
        leafSize * 0.25,
        -Math.PI / 6,
        0, Math.PI * 2
      );
      ctx.fill();

      // Right leaf
      ctx.beginPath();
      ctx.ellipse(
        center + leafSize * 0.6,
        tomatoCenter - tomatoRadius - stemHeight * 0.2,
        leafSize * 0.7,
        leafSize * 0.25,
        Math.PI / 6,
        0, Math.PI * 2
      );
      ctx.fill();
    }

    function downloadIcon(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function drawFeatureGraphic(ctx, width, height) {
      // Clear canvas
      ctx.clearRect(0, 0, width, height);

      // Background gradient
      const gradient = ctx.createLinearGradient(0, 0, width, height);
      gradient.addColorStop(0, '#FEF0F0');
      gradient.addColorStop(0.5, '#FFFFFF');
      gradient.addColorStop(1, '#FDEDEC');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, width, height);

      // Draw decorative circles in background
      ctx.globalAlpha = 0.1;
      ctx.fillStyle = colors.tomato;
      ctx.beginPath();
      ctx.arc(width * 0.1, height * 0.8, 80, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.arc(width * 0.9, height * 0.2, 60, 0, Math.PI * 2);
      ctx.fill();
      ctx.globalAlpha = 1;

      // Draw small tomato icon on the left
      const iconSize = 180;
      const iconX = width * 0.18;
      const iconY = height / 2;

      // Tomato body
      const tomatoGradient = ctx.createRadialGradient(
        iconX - iconSize * 0.15, iconY - iconSize * 0.15, 0,
        iconX, iconY, iconSize * 0.4
      );
      tomatoGradient.addColorStop(0, colors.tomatoLight);
      tomatoGradient.addColorStop(0.7, colors.tomato);
      tomatoGradient.addColorStop(1, colors.tomatoDark);

      ctx.beginPath();
      ctx.arc(iconX, iconY, iconSize * 0.4, 0, Math.PI * 2);
      ctx.fillStyle = tomatoGradient;
      ctx.fill();

      // Stem
      ctx.fillStyle = colors.stem;
      ctx.beginPath();
      ctx.roundRect(iconX - 6, iconY - iconSize * 0.4 - 15, 12, 25, 6);
      ctx.fill();

      // Leaves
      ctx.fillStyle = colors.leaf;
      ctx.beginPath();
      ctx.ellipse(iconX - 20, iconY - iconSize * 0.4 - 5, 25, 8, -Math.PI / 6, 0, Math.PI * 2);
      ctx.fill();
      ctx.beginPath();
      ctx.ellipse(iconX + 20, iconY - iconSize * 0.4 - 5, 25, 8, Math.PI / 6, 0, Math.PI * 2);
      ctx.fill();

      // Clock hands on tomato
      ctx.strokeStyle = 'rgba(255, 255, 255, 0.9)';
      ctx.lineWidth = 4;
      ctx.lineCap = 'round';

      // Hour hand
      ctx.beginPath();
      ctx.moveTo(iconX, iconY);
      ctx.lineTo(iconX - 20, iconY - 25);
      ctx.stroke();

      // Minute hand
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(iconX, iconY);
      ctx.lineTo(iconX, iconY + 35);
      ctx.stroke();

      // Center dot
      ctx.beginPath();
      ctx.arc(iconX, iconY, 5, 0, Math.PI * 2);
      ctx.fillStyle = 'white';
      ctx.fill();

      // App name "Zenmodoro"
      ctx.fillStyle = '#2C3E50';
      ctx.font = 'bold 72px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
      ctx.textAlign = 'left';
      ctx.textBaseline = 'middle';
      ctx.fillText('Zenmodoro', width * 0.32, height * 0.42);

      // Tagline
      ctx.fillStyle = '#7F8C8D';
      ctx.font = '32px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';
      ctx.fillText('Stay Focused. Work Smarter.', width * 0.32, height * 0.62);
    }

    // Draw all icons
    function init() {
      // iOS icon (1024x1024)
      const ctx1024 = document.getElementById('icon1024').getContext('2d');
      drawTomato(ctx1024, 1024, true);

      // Preview (200x200)
      const ctxPreview = document.getElementById('iconPreview').getContext('2d');
      drawTomato(ctxPreview, 200, true);

      // Android foreground (transparent background, with safe zone padding)
      const ctxAndroidFg = document.getElementById('androidFg').getContext('2d');
      drawTomato(ctxAndroidFg, 1024, false, true);

      // Android background
      const ctxAndroidBg = document.getElementById('androidBg').getContext('2d');
      drawAndroidBackground(ctxAndroidBg, 1024);

      // Splash icon
      const ctxSplash = document.getElementById('splash').getContext('2d');
      drawTomato(ctxSplash, 512, false);

      // Android monochrome (for themed icons on Android 13+)
      const ctxMono = document.getElementById('androidMono').getContext('2d');
      drawMonochrome(ctxMono, 1024);

      // Feature Graphic for Google Play
      const ctxFeature = document.getElementById('featureGraphic').getContext('2d');
      drawFeatureGraphic(ctxFeature, 1024, 500);
    }

    init();
  </script>
</body>
</html>
